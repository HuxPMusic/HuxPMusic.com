<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
<title>HuxP</title>
<!-- Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400..700&amp;family=Nunito:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<!-- Favicons / PWA -->
<link href="/favicon-32x32.png?v=7" rel="icon" sizes="32x32" type="image/png"/>
<link href="/favicon-16x16.png?v=7" rel="icon" sizes="16x16" type="image/png"/>
<link href="/favicon.ico?v=7" rel="icon" sizes="any"/>
<link href="/apple-touch-icon.png?v=7" rel="apple-touch-icon"/>
<link color="#898eca" href="/safari-pinned-tab.svg" rel="mask-icon"/>
<link href="/site.webmanifest" rel="manifest"/>
<meta content="#898eca" name="theme-color"/>
<!-- Social -->
<meta content="HuxP" property="og:title"/>
<meta content="Official site of HuxP, a vocal synth cover producer since 2017." property="og:description"/>
<meta content="/og-image.png" property="og:image"/>
<meta content="website" property="og:type"/>
<meta content="summary_large_image" name="twitter:card"/>
<!-- Performance hints -->
<link crossorigin="" href="https://ws.audioscrobbler.com" rel="preconnect"/>
<link crossorigin="" href="https://lastfm.freetls.fastly.net" rel="preconnect"/>
<link crossorigin="" href="https://upload.wikimedia.org" rel="preconnect"/>
<link as="image" href="BACKGROUND.png" imagesizes="100vw" imagesrcset="BACKGROUND.png" rel="preload"/>
<style>
    /* Base palette + variables */
    :root{
      --primary:#898eca; /* anchor */
      --purple:#898eca;
      --blue:#bcd0ff;
      --pink:#f2dfff;
      --gold:#ffe6a6;
      --ink:#1e1e1e;
      --card:#ffffff;

      --font-body: "Nunito", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", Helvetica, Arial, sans-serif;
      --font-ui: "Fredoka", "Nunito", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans", Helvetica, Arial, sans-serif;

      --radius:12px;
      --shadow:0 4px 12px rgba(0,0,0,.15);
      --gap: clamp(.8rem, 1.6vw, 1.25rem);

      /* Wubbzy accents (optional) */
      --wubbzy-yellow:#ffe075;
      --wubbzy-blue:#bcd0ff;
      --wubbzy-pink:#f2dfff;
      --wubbzy-lime:#dff7b2;

      --bubble-radius:26px;
      --bubble-border:4px;
    }

    /* Global height + box model */
    html, body { height:100%; }
    *,*::before,*::after { box-sizing:border-box; }

    /* Typography */
    body{
      margin:0;
      font-family: var(--font-body);
      color:var(--ink);

      /* Background (reduced zoom) */
      background-color: var(--blue);
      background-image: linear-gradient(180deg, rgba(255,255,255,.85) 0%, rgba(255,248,254,.85) 100%), url("BACKGROUND.png");
      background-repeat: no-repeat;
      background-position: center top;
      background-attachment: fixed;
      background-size: cover;

      display:flex; flex-direction:column; min-height:100vh;
      text-rendering: optimizeLegibility;
    }
    h1,h2,h3,h4,h5,h6,.logo a,.hero-title{ font-family: var(--font-ui); }
    :focus-visible{ outline:3px solid var(--primary); outline-offset:3px; border-radius:6px; }

    /* Accessibility helpers */
    .sr-only{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .skip-link{ position:absolute; left:-9999px; top:auto; }
    .skip-link:focus{ left:1rem; top:1rem; background:#fff; padding:.5rem .75rem; border-radius:8px; z-index:1000; box-shadow:var(--shadow); }

    /* Header */
    header.site-header{
      position:sticky; top:0; z-index:10;
      display:flex; align-items:center; justify-content:space-between; gap:1rem;
      padding:.75rem clamp(1rem, 3vw, 2rem);
      background: linear-gradient(180deg, #fff 0%, #fff8fe 100%);
      border-radius: var(--bubble-radius);
      border: var(--bubble-border) solid #00000010;
      box-shadow: 0 2px 6px rgba(0,0,0,.08);
      backdrop-filter:saturate(1.2);
    }
    .logo img{ height: clamp(36px, 4vw, 48px); width:auto; }

    nav[aria-label="Primary"] a{
      text-decoration:none; font-weight:700; color:#333; font-size:.96rem;
      padding:.6rem .9rem; border-radius:999px; background:#fff;
      border: var(--bubble-border) solid #00000010; box-shadow: 0 3px 0 #00000010;
    }
    nav[aria-label="Primary"] a:hover{ transform: translateY(-1px); }
    nav[aria-label="Primary"] a[aria-current="page"]{ background: var(--primary); color:#fff; }

    /* Layout */
    main{
      width:min(1200px, 100%); margin:0 auto;
      padding: clamp(1rem, 3vw, 2rem);
      display:grid; grid-template-columns: 1fr; gap: var(--gap);
      flex:1 0 auto; min-height: 0;
    }

    /* Cards */
    .card{ background:var(--card); color:#111; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; }

    /* About */
    .content-column{ display:grid; gap:1rem; align-content:start; }
    .bio{ padding: clamp(1rem, 2vw, 1.5rem); }
    .bio h1{ margin:0 0 .5rem; color:var(--primary); font-size:clamp(1.25rem, 3vw, 1.6rem); }
    .bio-flex{ display:flex; flex-direction:column; gap:1rem; }
    .bio-flex img{ width:100%; max-width:560px; height:auto; border-radius:8px; background:#eee; }
    .caption{ font-size:.85rem; color:#555; margin-top:.25rem; }
    @media(min-width:720px){
      .bio-flex{ flex-direction:row; align-items:flex-start; }
      .bio-flex img{ max-width:300px; margin-right:1rem; }
    }

    /* Last.fm block */
    #music.card{ padding:1rem; }
    #music h2{ margin:0 0 .75rem; color:var(--primary); font-size:1.1rem; }
    .music-row{
      display:grid; grid-template-columns:56px 1fr; gap:.75rem; align-items:center;
      padding:.5rem; border-radius:10px; background: color-mix(in srgb, var(--primary) 15%, white 85%); margin-bottom:.5rem;
    }
    .music-row img{ width:56px; height:56px; border-radius:8px; object-fit:cover; background:#eee; }
    .music-row a{ color:var(--ink); text-decoration:none; font-weight:700; }
    .music-row a:hover{ text-decoration:underline; }

    /* Speech bubble */
    .speech-bubble{
      display:inline-block; background:var(--pink); color:var(--ink);
      border-radius:14px; padding:.6rem .8rem; box-shadow:var(--shadow); text-decoration:none; font-weight:700; line-height:1.25;
    }
    .speech-bubble:hover{ filter:brightness(.98); }
    .speech-bubble .lastfm-logo{ height:18px; width:auto; vertical-align:text-bottom; margin:0 .2rem; }

    /* Project Buttons */
    .project-buttons{ display:grid; gap:1rem; grid-template-columns: 1fr; }
    @media(min-width:700px){ .project-buttons{ grid-template-columns: repeat(3, 1fr);} }
    .project-btn{
      display:flex; align-items:center; gap:.75rem; padding:1rem 1.25rem;
      border-radius:999px; background:#fff; border: var(--bubble-border) solid #00000010;
      box-shadow:0 6px 0 #00000010; text-decoration:none; font-weight:700; color:inherit;
    }
    .project-btn img{ width:24px; height:24px; border-radius:6px; }
    .project-btn .sub{ font-weight:600; opacity:.75; font-family:var(--font-body); }
    .project-btn[aria-current="page"]{ background:var(--primary); color:#fff; }
  

/* Discography */
#discography { padding: clamp(1rem, 2vw, 1.5rem); }
#discography .discography-grid{
  display:grid; gap:1rem;
  grid-template-columns: 1fr;
}
@media(min-width:700px){
  #discography .discography-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media(min-width:1024px){
  #discography .discography-grid{ grid-template-columns: repeat(3, 1fr); }
}
.album-card{
  background:#fff; border-radius: var(--radius); border: var(--bubble-border) solid #00000010;
  box-shadow:var(--shadow); padding:1rem;
}
.album-card h3{
  margin:.25rem 0 0; font-size:1.15rem;
}
.album-card .subtitle{
  font-family: var(--font-body); font-weight:600; opacity:.7; margin-bottom:.5rem;
}
.album-card .cover-strip{
  display:grid; grid-template-columns: repeat(3, 1fr); gap:.5rem; margin:.5rem 0 .75rem;
}
.album-card .cover-strip img{
  width:100%; height:auto; border-radius:10px; background:#eee;
}
.album-card .meta{ font-size:.95rem; }
.album-card .meta-row{ margin-bottom:.25rem; }


.album-card .cover-strip a{ display:block; border-radius:10px; overflow:hidden; }
.album-card .cover-strip a:hover img{ transform:scale(1.03); }
.album-card .cover-strip img{ transition: transform .2s ease; }

.album-card .album-cta{
  display:inline-block; margin-top:.5rem; padding:.5rem .8rem;
  border-radius:999px; background:var(--primary); color:#fff; text-decoration:none; font-weight:700;
  box-shadow:0 2px 0 #00000020;
}
.album-card .album-cta:hover{ filter:brightness(.98); }


/* Inline logo in Biography */
.logo-inline{ display:flex; align-items:center; gap:.5rem; margin-bottom:.25rem; }
.logo-inline img{ height:48px; width:auto; }

/* Footer styles */
.site-footer{
  margin-top:2rem; padding:1rem clamp(1rem, 3vw, 2rem);
  background: #ffffffaa; backdrop-filter: blur(2px) saturate(1.1);
  border-radius: var(--bubble-radius); border: var(--bubble-border) solid #00000010;
}
.footer-inner{
  max-width: 1100px; margin: 0 auto;
  display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;
}
.site-footer a{ color: var(--ink); text-decoration: none; font-weight: 700; }
.site-footer a:hover{ text-decoration: underline; }
.site-footer .social-icons{ display:flex; gap:.75rem; flex-wrap:wrap; }
.site-footer .social-icons a{
  padding:.35rem .6rem; border-radius:999px; background:#fff; box-shadow:0 2px 0 #00000010;
  border: var(--bubble-border) solid #00000010;
}

/* Align "More info" button look with other CTAs */
.more-info-btn{ margin-top:.25rem; }

/* Improve card spacing at the top since header is removed */
main{ padding-top: clamp(.5rem, 2vw, 1rem); }

/* Reduce visual noise behind cards */
.card{ background:var(--card); }

/* Typography improvements */
p{ line-height:1.65; }
</style>
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>

<main id="main">
<!-- Right: Content -->
<section aria-label="About and activity" class="content-column">
<article class="card bio">
<div class="logo-inline"><img alt="HuxP logo inline" decoding="async" src="HuxP Logo.svg"/></div><h1>Biography</h1>
<div class="bio-flex">
<img alt="HayBombYT (left) and HuxP (right)" decoding="async" loading="lazy" src="https://lastfm.freetls.fastly.net/i/u/770x0/288ad6d9411a4353167f12326a2f7d3b.jpg#288ad6d9411a4353167f12326a2f7d3b"/>
<div>
<p>Mitch “Michelle” Bentz, known online as <strong>HuxP</strong>, is an American cover producer who primarily uses VOCALOID and UTAU voicebanks. He has been using the VOCALOID4 engine since 2017 and started releasing covers in 2023.</p>
<p>HuxP is also involved with the side projects <strong>DOCHIMERA</strong> and <strong>LockedStep</strong>, contributing vocals, arrangements, and collaborative covers.</p>
<p class="caption">Pictured: <a href="https://haybombyt.com" rel="noopener" target="_blank">HayBombYT</a> (left), HuxP (right)</p><a class="album-cta more-info-btn" href="https://huxp.wiki/wiki/Main_Page" rel="noopener" target="_blank">More info on HuxP Wiki</a>
</div>
</div>
</article>
<!-- Video Spotlight -->
<section aria-labelledby="video-spotlight-heading" class="card video" id="video-spotlight">
<h2 class="hero-title" id="video-spotlight-heading">Video Spotlight</h2>
<div class="video-frame" style="aspect-ratio:16/9; position:relative; overflow:hidden;">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" src="https://www.youtube.com/embed/3WnzDRtr5vI" style="position:absolute; inset:0; width:100%; height:100%; border:0; border-radius:var(--bubble-radius); box-shadow:0 6px 0 #00000010;" title="【式大元・Shiki Taigen】 「Light-headed / きゅうくらりん」 【UTAUカバー】"></iframe>
</div>
<p style="padding: .75rem 1rem 1rem;">
          【式大元・Shiki Taigen】 「Light-headed / きゅうくらりん」 【UTAUカバー】
        </p>
</section>
<!-- Project Buttons -->
<!-- Last.fm: Currently Listening -->
<section class="card" id="discography"><h2 class="hero-title">Discography</h2><div class="discography-grid"><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Vocarips" rel="noopener" target="_blank">Vocarips</a></h3><div class="subtitle">cover and remix album</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Vocarips" rel="noopener" target="_blank"><img alt="Vocarips - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocarips_%28original_cover%29.png"/></a><a href="https://huxp.wiki/wiki/Vocarips" rel="noopener" target="_blank"><img alt="Vocarips - Original edition (Re-release)" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocarips_%28re-release_cover%29.png"/></a><a href="https://huxp.wiki/wiki/Vocarips" rel="noopener" target="_blank"><img alt="Vocarips - Deluxe edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocarips_%28deluxe_cover%29.png"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> September 14, 2023</div><div class="meta-row"><strong>Tracks:</strong> 8 / 10</div><a class="album-cta" href="https://huxp.wiki/wiki/Vocarips" rel="noopener" target="_blank">View album page</a></div></article><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Vocadiva" rel="noopener" target="_blank">Vocadiva</a></h3><div class="subtitle">cover album</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Vocadiva" rel="noopener" target="_blank"><img alt="Vocadiva - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocadiva.png"/></a><a href="https://huxp.wiki/wiki/Vocadiva" rel="noopener" target="_blank"><img alt="Vocadiva - Remastered edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocadiva_%28Remastered%29.png"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> Original: January 17, 2024<br/>Remastered: October 16, 2024</div><div class="meta-row"><strong>Tracks:</strong> 10</div><a class="album-cta" href="https://huxp.wiki/wiki/Vocadiva" rel="noopener" target="_blank">View album page</a></div></article><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Miku_%2B_Michelle" rel="noopener" target="_blank">Miku + Michelle</a></h3><div class="subtitle">cover album</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Miku_%2B_Michelle" rel="noopener" target="_blank"><img alt="Miku + Michelle - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Miku_%2B_Michelle.png"/></a><a href="https://huxp.wiki/wiki/Miku_%2B_Michelle" rel="noopener" target="_blank"><img alt="Miku + Michelle - Deluxe edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Miku_%2B_Michelle_%28Deluxe%29.png"/></a><a href="https://huxp.wiki/wiki/Miku_%2B_Michelle" rel="noopener" target="_blank"><img alt="Miku + Michelle - Super Deluxe edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Miku_%2B_Michelle_%28Super_Deluxe%29.jpg"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> Original: April 5, 2024<br/>Deluxe: April 5, 2025<br/>Super Deluxe: June 16, 2025</div><div class="meta-row"><strong>Tracks:</strong> 16 / 28 / 32</div><a class="album-cta" href="https://huxp.wiki/wiki/Miku_%2B_Michelle" rel="noopener" target="_blank">View album page</a></div></article><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._1" rel="noopener" target="_blank">Shiki Taigen Cover Collection, Vol. 1</a></h3><div class="subtitle">compilation</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._1" rel="noopener" target="_blank"><img alt="Shiki Taigen Cover Collection, Vol. 1 - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Shiki_Taigen_Cover_Collection%2C_Vol._1.png"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> December 25, 2024</div><div class="meta-row"><strong>Tracks:</strong> 11</div><a class="album-cta" href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._1" rel="noopener" target="_blank">View album page</a></div></article><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Vocarips_%2B_Vocadiva" rel="noopener" target="_blank">Vocarips + Vocadiva</a></h3><div class="subtitle">compilation</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Vocarips_%2B_Vocadiva" rel="noopener" target="_blank"><img alt="Vocarips + Vocadiva - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Vocarips_%2B_Vocadiva.png"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> April 23, 2025</div><div class="meta-row"><strong>Tracks:</strong> 18</div><a class="album-cta" href="https://huxp.wiki/wiki/Vocarips_%2B_Vocadiva" rel="noopener" target="_blank">View album page</a></div></article><article class="album-card"><h3><a href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._2" rel="noopener" target="_blank">Shiki Taigen Cover Collection, Vol. 2</a></h3><div class="subtitle">compilation</div><div class="cover-strip"><a href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._2" rel="noopener" target="_blank"><img alt="Shiki Taigen Cover Collection, Vol. 2 - Original edition" decoding="async" loading="lazy" src="https://mywikis-wiki-media.s3.us-central-1.wasabisys.com/huxp/Shiki_Taigen_Cover_Collection%2C_Vol._2.png"/></a></div><div class="meta"><div class="meta-row"><strong>Released:</strong> July 22, 2025</div><div class="meta-row"><strong>Tracks:</strong> 16</div><a class="album-cta" href="https://huxp.wiki/wiki/Shiki_Taigen_Cover_Collection,_Vol._2" rel="noopener" target="_blank">View album page</a></div></article></div></section></section>
</main>
<footer class="site-footer" role="contentinfo">


<div class="footer-inner"><div>
      HuxP © 2025<br/>
<a href="mailto:huxpmusic@gmail.com">huxpmusic@gmail.com</a>
</div><div aria-label="Social links" class="social-icons">
<a aria-label="YouTube" href="https://youtube.com/@huxpmusic" rel="noopener" target="_blank">YouTube</a>
<a aria-label="Twitter" href="https://twitter.com/huxpmusic" rel="noopener" target="_blank">Twitter</a>
<a aria-label="Instagram" href="https://instagram.com/huxpmusic" rel="noopener" target="_blank">Instagram</a>
<a aria-label="Bandcamp" href="https://miku.bandcamp.com/" rel="noopener" target="_blank">Bandcamp</a>
<a aria-label="VocaDB" href="https://vocadb.net/Ar/125269" rel="noopener" target="_blank">VocaDB</a>
<a aria-label="Last.fm" href="https://last.fm/user/HuxP" rel="noopener" target="_blank">Last.fm</a>
</div></div></footer>
<!-- jQuery -->
<script crossorigin="anonymous" defer="" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- JS: Last.fm widget -->
<script defer="">
    const API_KEY = "9c8820e53700da319f46516475a119db";
    const USERNAME = "HuxP";

    function urlencode(obj){ const s=[]; for(const p in obj){ s.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p])); } return s.join("&"); }

    function lastfmRequest(method, params){
      params.api_key = API_KEY; params.format = "json";
      const url = "https://ws.audioscrobbler.com/2.0/?method=" + method + "&" + urlencode(params) + "&format=json";
      return fetch(url, { mode:"cors", cache:"no-cache" })
        .then(r => { if(r.ok) return r.json(); throw new Error("Network response was not ok."); });
    }

    function getImage(trackinfo){
      return lastfmRequest("track.getInfo", { autocorrect:1, track:trackinfo.name, artist:trackinfo.artist.name })
        .then((data)=> data?.track?.album?.image?.[1]?.["#text"] || "")
        .catch(()=> "");
    }

    function initLastFm(){
      const bubbleHtml = `
        <div style="margin: 0 0 .75rem 0;">
          <a class="speech-bubble" href="https://www.last.fm/user/${USERNAME}" target="_blank" rel="noopener" aria-label="Open my Last.fm profile">
            Curious what I'm listening to currently?<br>
            Via my <img class="lastfm-logo" src="https://upload.wikimedia.org/wikipedia/commons/d/d4/Lastfm_logo.svg" alt="Last.fm logo" width="60" height="18"> profile
          </a>
        </div>`;

      document.getElementById("music").setAttribute("aria-busy","true");
      $("#currently-playing").html(`${bubbleHtml}<h2 class="colorchanger">Now Playing</h2><div class="music-row"><div>Loading…</div></div>`);

      // Top tracks (7 days)
      lastfmRequest("user.gettoptracks", { user: USERNAME, limit:"3", period:"7day" })
        .then((data)=>{
          let html = '<h2 class="colorchanger">Top This Week</h2>';
          const tracks = data?.toptracks?.track || [];
          tracks.slice(0,3).forEach((item, i)=>{
            const itemid = item.mbid || ("toptrack-" + i);
            const img0 = item?.image?.[1]?.["#text"] || "";
            html += `
              <div class="music-row">
                <img id="${itemid}" src="${img0}" alt="Album art" loading="lazy" decoding="async">
                <div><a href="${item.url}" target="_blank" rel="noopener">${item.name}</a> — ${item.artist?.name || "Unknown Artist"}</div>
              </div>`;
            getImage({ name:item.name, artist:{ name:item.artist?.name || "" } })
              .then((img)=> { if(img) $("#" + itemid).attr("src", img); });
          });
          $("#listening-to").html(html);
        })
        .catch(()=> $("#listening-to").html('<div class="music-row"><div>Couldn’t load Top Tracks.</div></div>'));

      // Now playing (or last played)
      lastfmRequest("user.getrecenttracks", { user: USERNAME, limit:1 })
        .then((data)=>{
          const tracks = data?.recenttracks?.track;
          const item = Array.isArray(tracks) ? tracks[0] : tracks;
          const bubbleHtml2 = `
            <div style="margin: 0 0 .75rem 0;">
              <a class="speech-bubble" href="https://www.last.fm/user/${USERNAME}" target="_blank" rel="noopener" aria-label="Open my Last.fm profile">
                Curious what I'm listening to currently?<br>
                Via my <img class="lastfm-logo" src="https://upload.wikimedia.org/wikipedia/commons/d/d4/Lastfm_logo.svg" alt="Last.fm logo" width="60" height="18"> profile
              </a>
            </div>`;
          if(!item){
            $("#currently-playing").html(`${bubbleHtml2}<h2 class="colorchanger">Now Playing</h2><div class="music-row"><div>No scrobbles yet.</div></div>`);
            return;
          }
          const isNow = !!(item['@attr'] && item['@attr'].nowplaying);
          const header = isNow ? 'Now Playing' : 'Last Played';
          const artistName = item.artist && (item.artist['#text'] || item.artist.name) ? (item.artist['#text'] || item.artist.name) : 'Unknown Artist';
          const itemUrl = item.url || '#';
          const img0 = (item.image && item.image[1] && item.image[1]['#text']) ? item.image[1]['#text'] : '';
          const itemid = item.mbid || (isNow ? 'nowplaying' : 'lastplayed');

          $("#currently-playing").html(`${bubbleHtml2}
            <h2 class="colorchanger">${header}</h2>
            <div class="music-row">
              <img id="${itemid}" src="${img0}" alt="Album art" width="56" height="56" decoding="async">
              <div><a href="${itemUrl}" target="_blank" rel="noopener">${item.name}</a> — ${artistName}</div>
            </div>`);
          getImage({ name:item.name, artist:{ name:artistName } })
            .then((img)=> { if(img) $("#" + itemid).attr("src", img); });
        })
        .catch(()=> $("#currently-playing").html(`<div class="music-row"><div>Couldn’t load Now Playing right now. Try refreshing.</div></div>`))
        .finally(()=> document.getElementById("music").removeAttribute("aria-busy"));
    }

    window.addEventListener("DOMContentLoaded", initLastFm);
  </script>
</body>
</html>
